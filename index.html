<!doctype html>
<html lang="pt-PT">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Batizado da Ol√≠via</title>

<link href="https://fonts.googleapis.com/css2?family=Allura&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
:root{
 --sage:#91a88d;
 --blush:#e3a8b5;
 --ink:#1f2a22;
}
*{box-sizing:border-box;}
html,body{
 margin:0;
 height:100%;
 overflow:hidden;
 font-family:'Inter',sans-serif;
 background:#ffffff;
 color:var(--ink);
}

/* INTRO */
.intro{
 position:fixed;
 inset:0;
 display:flex;
 align-items:center;
 justify-content:center;
 background:#ffffff;
 z-index:9999;
}
.glow{
 position:absolute;
 width:60vw;
 height:60vw;
 background:radial-gradient(circle, rgba(255,255,255,.95), transparent 70%);
 filter:blur(60px);
 opacity:.0;
 animation:glowPulse 2.5s ease 1s forwards;
}
@keyframes glowPulse{ to{opacity:.8;} }
.intro img{
 width:min(420px,70vw);
 opacity:0;
 animation:doveIn 2s ease forwards;
 filter:brightness(1.05);
}
@keyframes doveIn{
 0%{opacity:0; transform:scale(.85);}
 100%{opacity:1; transform:scale(1);}
}

/* PAGES */
.page{
 position:absolute;
 inset:0;
 display:flex;
 flex-direction:column;
 justify-content:center;
 align-items:center;
 text-align:center;
 padding:40px 25px;
 opacity:0;
 pointer-events:none;
 transition: opacity 1.2s ease, transform 1.2s ease, filter 1.2s ease;
 transform: translateY(12px) scale(.995);
 filter: blur(4px);
}
.page.show{
 opacity:1;
 pointer-events:auto;
 transform: translateY(0) scale(1);
 filter: blur(0px);
}
.page::before{
 content:"";
 position:absolute;
 inset:0;
 background:url('pomba.png') no-repeat center 18%;
 background-size:min(520px,80vw);
 opacity:.08;
 pointer-events:none;
}
.page-main::before{ opacity:.16; }

h1{
 font-family:'Allura',cursive;
 font-size:clamp(56px,9vw,100px);
 color:var(--sage);
 margin:0 0 20px;
}
.sub{
 color:var(--blush);
 font-weight:600;
 font-size:18px;
 letter-spacing:.04em;
 margin-bottom:25px;
 opacity:0;
 animation:dateFade 1.2s ease 0.9s forwards;
}
@keyframes dateFade{ to{opacity:1;} }

.text{
 max-width:720px;
 font-size:19px;
 line-height:1.85;
 opacity:0;
 animation:textFade 1.5s ease 1.4s forwards;
}
@keyframes textFade{ to{opacity:1;} }

.details{ font-size:18px; line-height:1.6; }
.countdown{ margin-top:20px; font-size:20px; }

.btnRow{
 margin-top:25px;
 display:flex;
 gap:15px;
 flex-wrap:wrap;
 justify-content:center;
}
.btn{
 padding:14px 22px;
 border-radius:14px;
 text-decoration:none;
 font-weight:600;
 color:#1a1a1a;
}
.pai{ background:rgba(145,168,141,.35); }
.mae{ background:rgba(244,214,221,.7); }

/* Nav arrows bottom, subtle */
.nav{
 position:fixed;
 bottom:18px;
 left:0;
 right:0;
 display:flex;
 justify-content:center;
 gap:22px;
 z-index:10;
}
.arrow{
 border:none;
 background:rgba(0,0,0,.03);
 width:34px;
 height:34px;
 border-radius:50%;
 cursor:pointer;
 font-size:15px;
 opacity:.55;
 backdrop-filter:blur(2px);
 transition:opacity .3s ease, transform .25s ease;
}
.arrow:hover{ opacity:.85; transform:translateY(-1px); }
.arrow:active{ transform:translateY(0) scale(.98); }

/* Music toggle button */
.musicBtn{
  position:fixed;
  right:14px;
  bottom:14px;
  z-index:20;
  width:42px;
  height:42px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.08);
  background:rgba(255,255,255,.70);
  backdrop-filter: blur(6px);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  opacity:.65;
  transition:opacity .25s ease, transform .25s ease;
}
.musicBtn:hover{ opacity:.95; transform:translateY(-1px); }
.musicBtn:active{ transform:translateY(0px) scale(.98); }

/* Map buttons */
.mapRow{
  margin-top:18px;
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
}
.mapBtn{
  padding:12px 18px;
  border-radius:12px;
  text-decoration:none;
  font-weight:600;
  color:#1a1a1a;
}
.mapChurch{ background:rgba(145,168,141,.25); }
.mapVenue{ background:rgba(244,214,221,.6); }
</style>
</head>

<body>

<div class="intro" id="intro">
 <div class="glow"></div>
 <img src="pomba.png" alt="Pomba branca">
</div>

<button class="musicBtn" id="musicBtn" aria-label="Som ligado/desligado" title="Som">üîä</button>
<audio id="bgMusic" autoplay loop>
  <source src="musica.mp3" type="audio/mpeg">
</audio>

<section class="page page-main" id="page1">
 <h1>Batizado da Ol√≠via</h1>
 <div class="sub">02 de Maio de 2026</div>
 <div class="text">
   √â com o cora√ß√£o cheio de alegria que vos convidamos para o Batizado da nossa querida Ol√≠via.<br><br>
   Um momento de f√©, amor e gratid√£o pela sua vida, em que pediremos a Deus que a acompanhe e proteja sempre.<br><br>
   A vossa presen√ßa tornar√° este dia ainda mais especial ü§ç
 </div>
</section>

<section class="page" id="page2">
 <h1 style="font-size:40px;">Detalhes</h1>
 <div class="details">
   <strong>11h30</strong><br>
   Igreja Matriz de Tent√∫gal<br><br>
   <strong>Almo√ßo</strong><br>
   Patinhos
   <div class="mapRow">
     <a class="mapBtn mapChurch" href="https://www.google.com/maps/search/?api=1&query=Igreja+Matriz+de+Tentugal" target="_blank">Ver Igreja no Maps</a>
     <a class="mapBtn mapVenue" href="https://www.google.com/maps/search/?api=1&query=Patinhos+Carapinheira" target="_blank">Ver Quinta no Maps</a>
   </div>
 </div>
</section>

<section class="page" id="page3">
 <h1 style="font-size:40px;">Confirma√ß√£o</h1>
 <div class="countdown" id="countdown"></div>
 <div class="btnRow">
   <a class="btn pai" id="btnPai" href="#" target="_blank">Confirmar com o Pai</a>
   <a class="btn mae" id="btnMae" href="#" target="_blank">Confirmar com a M√£e</a>
 </div>
 <p style="margin-top:15px;">Confirma at√© <strong>31 de Mar√ßo</strong></p>
<br>


</section>

<div class="nav" aria-label="Navega√ß√£o">
 <button class="arrow" id="prevBtn" type="button">‚Äπ</button>
 <button class="arrow" id="nextBtn" type="button">‚Ä∫</button>
</div>

<script>
/* ===== Music: autoplay + toggle + fade-in + sync ===== */
const music = document.getElementById("bgMusic");
const btn = document.getElementById("musicBtn");
const TARGET_VOL = 0.35;

function setIcon(){ btn.textContent = music.muted ? "üîá" : "üîä"; }
function fadeIn(durationMs=3000){
  const start = performance.now();
  const from = 0, to = TARGET_VOL;
  music.volume = from;
  const step = (t)=>{
    const p = Math.min(1, (t-start)/durationMs);
    const s = p*p*(3-2*p);
    music.volume = from + (to-from)*s;
    if(p < 1) requestAnimationFrame(step);
  };
  requestAnimationFrame(step);
}

music.addEventListener('loadedmetadata', ()=>{ try{ music.currentTime = 38.0; }catch(e){} });

async function tryPlay(){
  try{
    await music.play();
    if(!music.muted) fadeIn(3000);
  }catch(e){}
}

btn.addEventListener("click", async ()=>{
  try{ await music.play(); }catch(e){}
  music.muted = !music.muted;
  if(!music.muted) fadeIn(2000);
  setIcon();
});

music.muted = false;
setIcon();
tryPlay();

document.addEventListener("click", function(){
  music.play().then(()=>{ if(!music.muted) fadeIn(2500); }).catch(()=>{});
}, { once:true });

/* ===== Pages + intro + auto + swipe ===== */
const pages = [...document.querySelectorAll(".page")];
let index = 0;

function render(){
  pages.forEach((p,i)=> p.classList.toggle("show", i===index));
}

function change(step){
  index = (index + step + pages.length) % pages.length;
  render();
  pauseAuto(); // any navigation pauses briefly
}

document.getElementById("prevBtn").addEventListener("click", ()=>change(-1));
document.getElementById("nextBtn").addEventListener("click", ()=>change(1));

/* Swipe (telem√≥vel) */
let startX=null;
document.addEventListener('touchstart', e=>{ startX = e.touches[0].clientX; }, {passive:true});
document.addEventListener('touchend', e=>{
  if(startX===null) return;
  const diff = e.changedTouches[0].clientX - startX;
  if(Math.abs(diff) > 50) change(diff < 0 ? 1 : -1);
  startX=null;
}, {passive:true});

/* Intro: pomba e reveal suave */
const introEl = document.getElementById("intro");
function startReveal(){
  introEl.style.transition = "opacity 1.6s ease";
  introEl.style.opacity = "0";
  setTimeout(()=>{
    introEl.style.display = "none";
    index = 0;
    render();
    scheduleNext(); // start auto right after reveal
  }, 1600);
}
setTimeout(startReveal, 4500);

/* Auto slide: 1¬™ p√°gina 10s, restantes 8s, pausa 10s ao interagir */
let autoTimer = null;
let autoPausedUntil = 0;

function scheduleNext(){
  clearTimeout(autoTimer);
  const delay = (index===0) ? 10000 : 8000;
  autoTimer = setTimeout(()=>{
    if(Date.now() < autoPausedUntil){
      scheduleNext();
      return;
    }
    change(1);
    scheduleNext();
  }, delay);
}

function pauseAuto(){
  autoPausedUntil = Date.now() + 10000; // 10 segundos
}

['touchstart','pointerdown','wheel','keydown'].forEach(ev=>{
  document.addEventListener(ev, pauseAuto, { passive:true });
});

/* WhatsApp links com mensagem */
const msg = encodeURIComponent("Ol√°! üòä Confirmo a presen√ßa no Batizado da Ol√≠via (02/05/2026). Confirma at√© 31 de Mar√ßo. N√∫mero de pessoas: _____. Obrigado/a!");
document.getElementById('btnPai').href = "https://wa.me/351915149673?text=" + msg;
document.getElementById('btnMae').href = "https://wa.me/351914188636?text=" + msg;

/* Countdown */
const target = new Date("2026-05-02T11:30:00");
function updateCountdown(){
  const now = new Date();
  const diff = target - now;
  if(diff <= 0){
    document.getElementById('countdown').textContent = "Chegou o dia ü§ç";
    return;
  }
  const d = Math.floor(diff/1000/60/60/24);
  const h = Math.floor(diff/1000/60/60)%24;
  const m = Math.floor(diff/1000/60)%60;
  const s = Math.floor(diff/1000)%60;
  document.getElementById('countdown').textContent = `${d} dias ${h}h ${m}m ${s}s`;
}
setInterval(updateCountdown, 1000);
updateCountdown();
</script>




</body>
</html>
